---
phase: 03-code-quality-typescript
plan: 04
type: execute
wave: 3
depends_on: ["03-03"]
files_modified:
  - src/composable/useAdminComposable.ts
  - src/composable/useAuthUseCases.ts
  - src/composable/useAuthComposable.ts
  - src/composable/useSurveyUseCases.ts
  - src/composable/useSurveyStatusManager.ts
  - src/composable/useTeamMemberUtils.ts
  - src/components/TeamComponent.vue
  - src/components/DashboardComponent.vue
  - src/components/MessagesComponent.vue
  - src/components/ReportsComponent.vue
  - src/components/SurveyComponent.vue
  - src/components/notifications/NotificationsDropdown.vue
  - src/components/team/TeamCreateMenu.vue
  - src/components/survey/SurveyCreateMenu.vue
  - src/components/survey/SurveyEditModal.vue
  - src/pages/NotificationsPage.vue
  - src/pages/SettingsPage.vue
  - src/pages/SingleTeamPage.vue
  - src/pages/SurveyVerificationPage.vue
autonomous: true

must_haves:
  truths:
    - "Developer sees structured log entries with context instead of raw console.error in composables, components, and pages"
    - "Zero raw console.error/warn/log calls remain anywhere in src/ except inside logger.ts"
  artifacts:
    - path: "src/composable/useAuthUseCases.ts"
      provides: "Auth use cases with structured logging"
    - path: "src/pages/SingleTeamPage.vue"
      provides: "Team page with structured logging"
  key_links:
    - from: "src/composable/useAuthUseCases.ts"
      to: "src/utils/logger.ts"
      via: "import createLogger"
      pattern: "import.*logger.*from.*utils/logger"
    - from: "src/pages/SingleTeamPage.vue"
      to: "src/utils/logger.ts"
      via: "import createLogger"
      pattern: "import.*logger.*from.*utils/logger"
---

<objective>
Complete the structured logging migration by replacing all remaining console.error/warn/log calls in composables, components, and pages.

Purpose: Eliminate all raw console output from the entire codebase, completing QAL-02.
Output: 19 files migrated, zero raw console calls remaining in src/.
</objective>

<execution_context>
@C:/Users/Developer/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/Developer/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/03-code-quality-typescript/03-RESEARCH.md
@.planning/phases/03-code-quality-typescript/03-03-SUMMARY.md
@src/utils/logger.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate composables to structured logging</name>
  <files>
    src/composable/useAdminComposable.ts
    src/composable/useAuthUseCases.ts
    src/composable/useAuthComposable.ts
    src/composable/useSurveyUseCases.ts
    src/composable/useSurveyStatusManager.ts
    src/composable/useTeamMemberUtils.ts
  </files>
  <action>
For each composable file (6 files, 10 console occurrences total):

1. Add import: `import { createLogger } from 'src/utils/logger'`
2. Create scoped logger inside the composable function: `const log = createLogger('useAuthUseCases')` (use composable name as scope)
3. Replace all `console.error/warn/log` calls with structured `log.error/warn/debug` calls, including available context (userId, teamId, operation, error details).

Apply the same patterns as Plan 03 Task 2:
```typescript
// BEFORE:
console.error('Error in auth operation:', error)

// AFTER:
log.error('Auth operation failed', { error: error instanceof Error ? error.message : String(error) })
```

After migration: zero `console.error/warn/log` in any composable file.
  </action>
  <verify>Run `grep -r "console\." src/composable/` — must return zero matches. Run `npx tsc --noEmit` — zero errors.</verify>
  <done>All 6 composable files migrated to structured logging. 10 console calls replaced.</done>
</task>

<task type="auto">
  <name>Task 2: Migrate components and pages to structured logging</name>
  <files>
    src/components/TeamComponent.vue
    src/components/DashboardComponent.vue
    src/components/MessagesComponent.vue
    src/components/ReportsComponent.vue
    src/components/SurveyComponent.vue
    src/components/notifications/NotificationsDropdown.vue
    src/components/team/TeamCreateMenu.vue
    src/components/survey/SurveyCreateMenu.vue
    src/components/survey/SurveyEditModal.vue
    src/pages/NotificationsPage.vue
    src/pages/SettingsPage.vue
    src/pages/SingleTeamPage.vue
    src/pages/SurveyVerificationPage.vue
  </files>
  <action>
For each Vue component/page file (13 files, ~38 console occurrences total):

1. In the `<script setup>` section, add import: `import { createLogger } from 'src/utils/logger'`
2. Create scoped logger: `const log = createLogger('SingleTeamPage')` (use component/page name as scope)
3. Replace all `console.error/warn/log` calls with structured logger calls.

Most component console calls follow the pattern:
```typescript
// BEFORE (in catch blocks):
console.error('Failed to load team:', error)

// AFTER:
log.error('Failed to load team', { error: error instanceof Error ? error.message : String(error), teamId })
```

Files with highest counts to pay attention to:
- `src/pages/SingleTeamPage.vue` — 8 occurrences
- `src/pages/SurveyVerificationPage.vue` — 6 occurrences
- `src/pages/NotificationsPage.vue` — 5 occurrences
- `src/components/notifications/NotificationsDropdown.vue` — 5 occurrences
- `src/pages/SettingsPage.vue` — 3 occurrences

Remaining files have 1-2 occurrences each — straightforward replacements.

After migration: zero `console.error/warn/log` in any component or page file.
  </action>
  <verify>Run `grep -r "console\." src/components/ src/pages/` — must return zero matches (except possibly console usage in template expressions, which should not exist). Run `npx tsc --noEmit` — zero errors. Run `npx quasar dev` and test basic navigation — app works, structured logs appear in DevTools.</verify>
  <done>All 13 component/page files migrated to structured logging. Zero raw console calls remain in entire src/ directory (except inside logger.ts itself).</done>
</task>

</tasks>

<verification>
- `grep -rn "console\.\(error\|warn\|log\)" src/ --include="*.ts" --include="*.vue" | grep -v "logger.ts"` returns zero matches
- `npx tsc --noEmit` passes
- `npx quasar dev` starts and basic app navigation works
- Structured logs with timestamps and context appear in browser DevTools
</verification>

<success_criteria>
Zero raw console.error/warn/log calls remain in src/ (except inside logger.ts). All 105 original console calls replaced with structured logging. QAL-02 fully complete.
</success_criteria>

<output>
After completion, create `.planning/phases/03-code-quality-typescript/03-04-SUMMARY.md`
</output>
